---
# SPDX-License-Identifier: Apache-2.0
# Copyright Contributors to the ODPi Egeria project.

- name: ensure data file directory exists
  file:
    path: "{{ egeria_samples_cocopharma_targets.files }}"
    state: directory
    mode: 0755
    owner: "{{ egeria_samples_credentials.file_owner }}"
    group: "{{ egeria_samples_credentials.file_group }}"
  become: yes

- name: transfer sample data files
  copy:
    src: "data-files/"
    dest: "{{ egeria_samples_cocopharma_targets.files }}/"
    owner: "{{ egeria_samples_credentials.file_owner }}"
    group: "{{ egeria_samples_credentials.file_group }}"
    mode: 0644
  become: yes

- name: remove any non-sample files
  file:
    path: "{{ egeria_samples_cocopharma_targets.files }}/{{ item }}"
    state: absent
  become: yes
  with_items:
    - load.yml
    - remove.yml
